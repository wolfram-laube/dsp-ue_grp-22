\documentclass[12pt,a4paper,austrian]{article}
\usepackage{graphicx}
\usepackage[austrian, english]{babel}
\usepackage[utf8]{inputenc}
%\usepackage{listings}
\usepackage{multirow}
\usepackage{epstopdf}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{hyperref} % fuer Mengen \N, Q, C, R
\graphicspath{{./fig/}}


%% Satzspiegel
\setlength{\hoffset}{-1in} \setlength{\textwidth}{18cm}
\setlength{\oddsidemargin}{1.5cm}
\setlength{\evensidemargin}{1.5cm}
\setlength{\marginparsep}{0.7em}
\setlength{\marginparwidth}{0.5cm}

\setlength{\voffset}{-1.9in}
\setlength{\headheight}{12pt}
\setlength{\topmargin}{2.6cm}
   \addtolength{\topmargin}{-\headheight}
\setlength{\headsep}{3.5cm}
   \addtolength{\headsep}{-\topmargin}
   \addtolength{\headsep}{-\headheight}
\setlength{\textheight}{27cm}

%% How should floats be treated?
\setlength{\floatsep}{12 pt plus 0 pt minus 8 pt}
\setlength{\textfloatsep}{12 pt plus 0pt minus 8 pt}
\setlength{\intextsep}{12 pt plus 0pt minus 8 pt}

\tolerance2000
\emergencystretch20pt

%% Text appearence
% English text
\newcommand{\eg}[1]%
  {\selectlanguage{english}\textit{#1}\selectlanguage{austrian}}

\newcommand{\filename}[1]
  {\begin{small}\texttt{#1}\end{small}}

\newcommand\IFT{\unitlength1mm\begin{picture}(10,2) \put (1,1)
{\circle{1.7}} \put(2,1){\line(1,0){5}} \put(8,1)
{\circle*{1.7}}\end{picture}}
\newcommand\FT{\unitlength1mm\begin{picture}(10,2) \put (1,1)
{\circle*{1.7}} \put(2,1){\line(1,0){5}} \put(8,1)
{\circle{1.7}}\end{picture}}

% A box for multiple choice problems
\newcommand{\choicebox}{\fbox{\rule{0pt}{0.5ex}\rule{0.5ex}{0pt}}}

\newenvironment{wahrfalsch}%
  {\bigskip\par\noindent\makebox[1cm][c]{richtig}\hspace{3mm}\makebox[1cm][c]{falsch}
   \begin{list}%
   {\makebox[1cm][c]{\choicebox}\hspace{3mm}\makebox[1cm][c]{\choicebox}}%
   {\setlength{\labelwidth}{2.31 cm}\setlength{\labelsep}{3mm}
    \setlength{\leftmargin}{2.61 cm}\setlength{\listparindent}{0pt}
    \setlength{\itemindent}{0pt}}%
  }
  {\end{list}}

\newcounter{theaufgabe}\setcounter{theaufgabe}{1}
\newenvironment{aufgabe}[1]%
  {\bigskip\par\noindent\begin{nopagebreak}
   \textsf{\textbf{\arabic{theaufgabe}.\thinspace Aufgabe}}\quad
      \textsf{\textit{#1}}\\*[1ex]%
\stepcounter{theaufgabe}\hspace{2ex}\end{nopagebreak}}
  {\par\pagebreak[2]}

% Innerhalb der Aufgaben erfolgt die weitere Unterteilung mittels einer
% enumerate Umgebung, die allerdings a), b),... zaehlen soll.
\renewcommand{\labelenumi}{\alph{enumi})}
\renewcommand{\labelenumii}{\arabic{enumii})}

% A box to tick for everything which has to done
\newcommand{\abgabe}{\marginpar{$\Box$}}
% Margin paragraphs on the left side
\reversemarginpar

% Language for listings
%\lstset{language=Vhdl,
%  basicstyle=\small\tt,
 % keywordstyle=\tt\bf,
 % commentstyle=\sl}

% No indention
\setlength{\parindent}{0.0cm}
% Don't number sections
\setcounter{secnumdepth}{0}


%% Beginning of the text

\begin{document}
\selectlanguage{austrian}
\pagestyle{plain}


%===  This is the header section ============================================================
\thispagestyle{empty}
\noindent
\begin{minipage}[b][4cm]{1.0\textwidth}  
\begin{center}
\begin{bf} 
\begin{large} Digital Signal Processing SS 2024 -- 3.~Assignment\end{large} \\
\vspace{0.3cm}
\begin{Large} Sampling and Reconstruction \end{Large} \\
\vspace{0.3cm}
\end{bf}
\begin{large}
Group 22\\
Julian Feichtinger, K12015812\\
Wolfram Laube, K08900915\\
\end{large} 
\end{center}
\end{minipage}

\noindent \rule[0.8em]{\textwidth}{0.12mm}\\[-0.5em]
%=======================================================================================


\begin{aufgabe}{Sampling 1 (40\%)}

The analogue signal

\[
x(t) = x_{1}(t) + x_{2}(t) = \sin \left(2 \pi f_{1} t\right) + \sin \left(2 \pi f_{2} t\right)
\]

with \(f_{1} = 4 \mathrm{kHz}\) and \(f_{2} = 6 \mathrm{kHz}\) is sampled with a sampling rate of \(f_{s} = 10 \mathrm{kHz}\) to yield the discrete time signal \(x[n]\).

\begin{enumerate}
    \item[(a)] Draw the spectrum of \(x(t)\).

    \item[(b)] Due to sampling frequency shifted versions of the analogue spectrum are generated.

    Draw the spectra shifted by \(-f_{s}, 0\) and \(+f_{s}\) and then the spectrum for \(x[n]\) as a result of spectral addition in one diagram.
    The diagram should show the spectra in the range from \(-f_{s}\) to \(+f_{s}\).

    \emph{Hint: Draw real and imaginary parts of the spectrum rather than magnitude and phase to ease addition.}

    \item[(c)] In Matlab, plot the section 0 to \(2 \mathrm{~ms}\) of the signal \(x(t)\) with a sampling rate of \(100 \mathrm{kHz}\) to emulate an analogue signal.

    Then also add the sampled signal \(x[n] = x\left(n T_{s}\right)\) to the same plot.
    Show that \(x[n]\) corresponds to the spectrum derived in (b).
\end{enumerate}


\hrule
\begin{enumerate}
\input{ex1_a_python_wip_wolfram}
\input{ex1_b_python_wip_wolfram}
\input{ex1_c_python_wip_wolfram}
\end{enumerate}

\end{aufgabe}

\begin{aufgabe}{Sampling 2 (25\%)}

The spectrum \(X(f)\) of an analogue signal \(x(t)\) is given with:

\begin{figure}[h]
    \centering
    \includegraphics[width=0.49\textwidth]{fig/ex2_signal_spectrum}
    \caption{Spectrum of \(x(t)\)}
    \label{fig:ex2_signal_spectrum}
\end{figure}

\begin{enumerate}
    \item[(a)] Draw the real and imaginary parts of the spectrum \(X(f)\).

    \item[(b)] \(x(t)\) is sampled with \(8 \mathrm{kHz}\) to yield the discrete time signal \(x[n]\).
    Draw the spectrum of \(x[n]\) from \(-f_{s}\) to \(f_{s}\) and indicate the baseband.

\end{enumerate}

\hrule

\begin{enumerate}
\input{ex2_a_python_wip_wolfram}
\input{ex2_b_python_wip_wolfram}
\end{enumerate}

\end{aufgabe}

\begin{aufgabe}{Reconstruction (35\%)}

The discrete time signal \(x[n] = \sqrt{2} \cdot \sin \left(2 \pi \cdot \frac{1}{8} \cdot n\right)\) is converted to the analogue signal \(x(t)\) with a DAC which uses a clock frequency of \(8 \mathrm{kHz}\) and which converts a numerical value of 1 to \(1 \mathrm{~V}\).

\begin{enumerate}
    \item[(a)] Up to $20 \mathrm{kHz}$, list all positive frequencies which occur (in general) in $x(t)$.

    \item[(b)] The DAC implements a zero-order hold reconstruction.

    \begin{enumerate}
        \item[(1)] What is the power (in \(\mathrm{dB}\)) of the baseband sinewave (the sine at the lowest frequency).

        \item[(2)] What is the power (in \(\mathrm{dB}\)) of the first out-of-band sinewave (the sine with the second lowest frequency).
    \end{enumerate}

    \item[(c)] Qualitatively draw the spectrum of \(x(t)\) up to \(20 \mathrm{kHz}\). Delta pulses should be drawn with an arrow, the height of the arrow should indicate the weight of the delta-pulse.
\end{enumerate}

\textbf{Hints:}
\begin{itemize}
    \item The power of a sinewave with amplitude \(A\) is \(P=\frac{A^{2}}{2}\) (also see Parseval's theorem for periodic signals DSP\_02/27).

    \item The impulse response of a zero-order reconstruction filter is a rectangular pulse, its frequency response is thus given in \emph{DSP\_02/43}.

    \item When calculating the attenuation for the respective frequencies it should be noted that e.g. Matlab uses the normalized sinc function.
\end{itemize}

\hrule

\begin{enumerate}
\input{ex3_a_wip_wolfram}
\input{ex3_b_wip_wolfram}
\input{ex3_c_wip_wolfram}
\end{enumerate}

\end{aufgabe}

\begin{aufgabe}{Signal Processing Onramp - BONUS (15\%)}
This task is optional (additional 15\%) and should help you to learn the basics of practical signal processing techniques in MATLAB.
You will find out how to use spectral analysis and filtering for preprocessing, analyzing, and extracting information from signal data.

For that, you need to carry out the full \emph{'Signal Processing Onramp course'}.
\footnote{\url{https://matlabacademy.mathworks.com/details/signal-processing-onramp/signalprocessing}}
To get the bonus points, you need to add the certificate to your protocol (you can download a pdf -
see \emph{'Share Certificate and Progress'}).
Also, you need to share your progress with my account (\texttt{matthias.wagner@jku.at}),
which can be done in the same tab.

%\hrule

%\begin{enumerate}
%\input{ex4_a_python_wip_wolfram}
%\input{ex4_b_python_wip_wolfram}
%\input{ex4_c_python_wip_wolfram}
%\end{enumerate}

\end{aufgabe}


\end{document}
